---
const year = new Date().getFullYear();
const url = new URL(Astro.request.url);

const menuLinks = [
  { title: "HOME", path: "/", key: "1" },
  { title: "ABOUT", path: "/about", key: "2" },
  { title: "BLOG", path: "/posts", key: "3" },
  { title: "RECIPES", path: "/recipes", key: "4" },
  { title: "PLAYLISTS", path: "/playlists", key: "5" },
  { title: "PROJECTS", path: "/projects", key: "6" },
  { title: "BOOKMARKS", path: "/bookmarks", key: "7" },
];
---

<footer class="mt-auto pt-8 pb-4">
  <!-- Top separator -->
  <div class="text-accent text-xs leading-none select-none mb-2" aria-hidden="true">
    ════════════════════════════════════════════════════════════════════════════════
  </div>

  <!-- Thank you message with block decoration -->
  <div class="text-center py-2 text-sm">
    <span class="text-bbs-gray" aria-hidden="true">░░░</span>
    <span class="text-accent mx-2">Thank you for visiting DR_DINOMIGHT BBS</span>
    <span class="text-bbs-gray" aria-hidden="true">░░░</span>
  </div>

  <!-- Status line -->
  <div class="flex flex-col sm:flex-row items-center justify-between gap-2 text-xs py-2 border-t border-b border-bbs-gray">
    <div class="flex items-center gap-4">
      <span class="text-bbs-gray">
        Lines: <span class="text-bbs-cyan">1/1</span>
      </span>
      <span class="text-bbs-gray hidden sm:inline">│</span>
      <span class="text-bbs-gray hidden sm:inline">
        Node: <span class="text-bbs-cyan">01</span>
      </span>
    </div>

    <div class="flex items-center gap-4">
      <span class="text-bbs-gray">
        &copy; <span class="text-accent">{year}</span>
      </span>
      <span class="text-bbs-gray hidden sm:inline">│</span>
      <span class="text-bbs-gray hidden sm:inline">
        <span class="text-bbs-cyan">[Q]</span>uit
      </span>
    </div>
  </div>

  <!-- Navigation links -->
  <nav
    aria-label="Footer navigation"
    class="flex flex-wrap justify-center gap-1 py-2 text-xs"
  >
    {menuLinks.map((link) => (
      <a
        href={link.path}
        class:list={[
          "px-2 py-1 bbs-menu-item",
          url.pathname === link.path
            ? "bg-accent text-black"
            : "text-bbs-cyan"
        ]}
        aria-current={url.pathname === link.path ? "page" : false}
        aria-label={link.title}
        rel="prefetch"
      >
        <span class="text-bbs-magenta" aria-hidden="true">[{link.key}]</span>{link.title}
      </a>
    ))}
  </nav>

  <!-- Bottom separator -->
  <div class="text-accent text-xs leading-none select-none mt-2" aria-hidden="true">
    ════════════════════════════════════════════════════════════════════════════════
  </div>

  <!-- ASCII Art signature - decorative -->
  <div class="text-center mt-4 text-bbs-gray text-xs" aria-hidden="true">
    <pre class="inline-block text-left">
 ██████╗ ██████╗        ██████╗ ██╗███╗   ██╗ ██████╗
 ██╔══██╗██╔══██╗       ██╔══██╗██║████╗  ██║██╔═══██╗
 ██║  ██║██████╔╝       ██║  ██║██║██╔██╗ ██║██║   ██║
 ██║  ██║██╔══██╗       ██║  ██║██║██║╚██╗██║██║   ██║
 ██████╔╝██║  ██║██╗    ██████╔╝██║██║ ╚████║╚██████╔╝
 ╚═════╝ ╚═╝  ╚═╝╚═╝    ╚═════╝ ╚═╝╚═╝  ╚═══╝ ╚═════╝
    </pre>
  </div>
  <span class="sr-only">Dr Dino website footer</span>
</footer>

<style>
  footer {
    font-family: 'IBM Plex Mono', monospace;
  }

  footer pre {
    font-size: 0.4rem;
    line-height: 1;
    color: var(--bbs-gray);
  }

  @media (min-width: 640px) {
    footer pre {
      font-size: 0.5rem;
    }
  }
</style>
